<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador Interactivo de Sustentación</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: linear-gradient(to bottom, #87CEEB, #FFFFFF);
            overflow: hidden;
        }
        #data-panel {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 300px;
            background: linear-gradient(145deg, rgba(255, 255, 255, 0.95), rgba(240, 248, 255, 0.95));
            border: 2px solid rgba(0, 123, 255, 0.3);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.8);
            font-size: 14px;
            max-height: 90vh;
            overflow-y: auto;
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        #data-panel.hidden {
            transform: translateX(330px);
            opacity: 0.7;
        }
        #data-panel.hidden #toggle-panel-btn {
            transform: rotate(180deg);
        }
        body.panel-hidden #show-panel-btn {
            display: block;
        }
        body:not(.panel-hidden) #show-panel-btn {
            display: none;
        }
        #data-panel h3 {
            margin: 0 0 15px 0;
            color: #2c3e50;
            font-size: 18px;
            font-weight: 600;
            text-align: center;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }
        #data-panel h4 {
            margin: 0 0 12px 0;
            color: #34495e;
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 5px;
            position: relative;
        }
        #data-panel h4::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 30px;
            height: 2px;
            background: linear-gradient(90deg, #3498db, 2980b9);
            border-radius: 1px;
        }
        #angle-slider {
            width: 100%;
            margin: 8px 0 15px 0;
            height: 6px;
            border-radius: 3px;
            background: linear-gradient(90deg, #ecf0f1, #bdc3c7);
            outline: none;
            -webkit-appearance: none;
            appearance: none;
        }
        #angle-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: linear-gradient(145deg, #3498db, #2980b9);
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.8);
            transition: all 0.2s ease;
        }
        #angle-slider::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        #angle-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: linear-gradient(145deg, #3498db, #2980b9);
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.8);
            transition: all 0.2s ease;
        }
        canvas {
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            max-width: calc(100vw - 320px);
            max-height: 100vh;
            transition: max-width 0.3s ease;
        }
        body.panel-hidden canvas {
            max-width: 100vw;
            max-height: 100vh;
        }
        .control-group {
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 10px;
            border: 1px solid rgba(0, 123, 255, 0.2);
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        .control-label {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
            font-size: 13px;
        }
        .control-icon {
            width: 16px;
            height: 16px;
            margin-right: 8px;
            opacity: 0.8;
        }
        .value-display {
            font-weight: bold;
            color: #3498db;
            font-size: 14px;
            margin-left: auto;
        }
        .physics-info {
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.1), rgba(41, 128, 185, 0.1));
            border: 1px solid rgba(52, 152, 219, 0.3);
            border-radius: 8px;
            padding: 12px;
            margin: 8px 0;
            font-size: 12px;
            line-height: 1.4;
        }
        .physics-info strong {
            color: #2980b9;
        }
        @media (max-width: 480px) {
            #data-panel {
                width: 95%;
                right: 2.5%;
                left: 2.5%;
                top: 5px;
                font-size: 10px;
                padding: 8px;
                max-height: 40vh;
            }
            #data-panel.hidden {
                transform: translateY(-100%);
                opacity: 0.7;
            }
            canvas {
                max-width: 100vw;
                max-height: calc(100vh - 50px);
            }
            body.panel-hidden canvas {
                max-height: 100vh;
            }
            #data-panel h4 {
                font-size: 10px;
            }
            .airplane-btn, .weather-btn {
                padding: 2px 4px;
                font-size: 9px;
                margin: 1px;
            }
            #data-panel button {
                font-size: 9px;
                padding: 3px 4px;
                margin: 1px;
            }
        }

        .weather-btn {
            background-color: #666;
            color: white;
            border: none;
            padding: 5px 10px;
            margin: 2px;
            cursor: pointer;
            border-radius: 3px;
        }
        .weather-btn.active {
            background-color: #4CAF50;
        }
        .weather-btn:hover {
            background-color: #555;
        }
        .airplane-btn {
            background-color: #666;
            color: white;
            border: none;
            padding: 4px 8px;
            margin: 2px;
            cursor: pointer;
            border-radius: 3px;
            font-size: 11px;
        }
        .airplane-btn.active {
            background-color: #FF6B35;
        }
        .airplane-btn:hover {
            background-color: #555;
        }
    </style>
</head>
<body>
    <div id="data-panel">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
            <h3 style="margin: 0;">Datos en Tiempo Real</h3>
            <button id="toggle-panel-btn" style="background: linear-gradient(145deg, #95a5a6, #7f8c8d); color: white; border: none; padding: 8px 12px; border-radius: 20px; cursor: pointer; font-size: 11px; font-weight: 600; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2); transition: all 0.3s ease; display: flex; align-items: center;">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 4px;">
                    <path d="M15.41 16.59L10.83 12L15.41 7.41L14 6L8 12L14 18L15.41 16.59Z"/>
                </svg>
                Ocultar
            </button>
        </div>
        
        <div style="margin-bottom: 20px; border-bottom: 1px solid #ccc; padding-bottom: 15px;">
            <h4>Parámetros de Vuelo</h4>
            <div class="control-group">
                <div class="control-label">
                    <svg class="control-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z"/>
                    </svg>
                    Ángulo de Ataque
                    <span class="value-display" id="angle-value">5°</span>
                </div>
                <input type="range" id="angle-slider" min="-10" max="20" value="5" step="0.5">
            </div>
            
            <div class="control-group">
                <div class="control-label">
                    <svg class="control-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z"/>
                        <path d="M4 22H20V20H4V22Z"/>
                    </svg>
                    Velocidad del Viento
                    <span class="value-display" id="wind-value">70 m/s</span>
                </div>
                <input type="range" id="wind-slider" min="10" max="100" value="70">
            </div>
            
            <div class="control-group">
                <div class="control-label">
                    <svg class="control-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M7 14H5V12H7V14ZM12 14H10V12H12V14ZM19 14H17V12H19V14ZM7 19H5V17H7V19ZM12 19H10V17H12V19ZM19 19H17V17H19V19ZM7 9H5V7H7V9ZM12 9H10V7H12V9ZM19 9H17V7H19V9ZM3 3V21H21V3H3Z"/>
                    </svg>
                    Altitud
                    <span class="value-display" id="altitude-value">0 m</span>
                </div>
                <input type="range" id="altitude-slider" min="0" max="10000" value="0" step="100">
            </div>
            
            <div class="control-group">
                <div class="control-label">
                    <svg class="control-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z"/>
                        <circle cx="12" cy="12" r="3"/>
                    </svg>
                    Masa del Avión
                    <span class="value-display" id="mass-value">80 kg</span>
                </div>
                <input type="range" id="mass-slider" min="50" max="150" value="80">
            </div>
        </div>
        
        <div style="margin-bottom: 20px; border-bottom: 1px solid #ccc; padding-bottom: 15px;">
            <h4>Física Aerodinámica</h4>
            <div class="physics-info">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                    <span><strong>↑ Sustentación:</strong></span>
                    <span id="lift-value" style="color: #27ae60; font-weight: bold;">75 N</span>
                </div>
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                    <span><strong>↓ Peso:</strong></span>
                    <span id="weight-value" style="color: #e74c3c; font-weight: bold;">784 N</span>
                </div>
                <div style="margin-top: 12px; padding-top: 8px; border-top: 1px solid rgba(52, 152, 219, 0.3);">
                    <div style="font-size: 11px; color: #7f8c8d; margin-bottom: 4px;"><strong>Ecuación de Bernoulli:</strong></div>
                    <div style="font-family: 'Courier New', monospace; font-size: 10px; background: rgba(0,0,0,0.05); padding: 4px; border-radius: 3px;">
                        P + ½ρv² = constante
                    </div>
                    <div style="margin-top: 6px; font-size: 10px;">
                        <div>Arriba: P₁=<span id="p1">101325</span> Pa, v₁=<span id="v1">80</span> m/s</div>
                        <div>Abajo: P₂=<span id="p2">101325</span> Pa, v₂=<span id="v2">60</span> m/s</div>
                    </div>
                </div>
                <div style="margin-top: 8px; font-size: 11px;">
                    <strong>Densidad del Aire:</strong> <span id="rho-value" style="color: #3498db;">1.225 kg/m³</span>
                </div>
            </div>
        </div>
        
        <div style="margin-bottom: 20px;">
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; margin-bottom: 15px;">
                <button id="reset-btn" style="background: linear-gradient(145deg, #e74c3c, #c0392b); color: white; border: none; padding: 10px 8px; border-radius: 8px; cursor: pointer; font-size: 12px; font-weight: 600; box-shadow: 0 2px 8px rgba(231, 76, 60, 0.3); transition: all 0.2s ease;">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 4px;">
                        <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V21C3 22.11 3.89 23 5 23H19C20.11 23 21 22.11 21 21V9M19 9H14V4H19V9Z"/>
                    </svg>
                    Reiniciar
                </button>
                <button id="tutorial-btn" style="background: linear-gradient(145deg, #f39c12, #e67e22); color: white; border: none; padding: 10px 8px; border-radius: 8px; cursor: pointer; font-size: 12px; font-weight: 600; box-shadow: 0 2px 8px rgba(243, 156, 18, 0.3); transition: all 0.2s ease;">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 4px;">
                        <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 1H5C3.89 1 3 1.89 3 3V21C3 22.11 3.89 23 5 23H19C20.11 23 21 22.11 21 21V9M19 9H14V4H19V9Z"/>
                    </svg>
                    Tutorial
                </button>
                <button id="export-btn" style="background: linear-gradient(145deg, #27ae60, #229954); color: white; border: none; padding: 10px 8px; border-radius: 8px; cursor: pointer; font-size: 12px; font-weight: 600; box-shadow: 0 2px 8px rgba(39, 174, 96, 0.3); transition: all 0.2s ease;">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 4px;">
                        <path d="M14 2H6C4.89 2 4 2.89 4 4V20C4 21.11 4.89 22 6 22H18C19.11 22 20 21.11 20 20V8L14 2M18 20H6V4H13V9H18V20Z"/>
                    </svg>
                    Exportar
                </button>
                <button id="save-btn" style="background: linear-gradient(145deg, #3498db, #2980b9); color: white; border: none; padding: 10px 8px; border-radius: 8px; cursor: pointer; font-size: 12px; font-weight: 600; box-shadow: 0 2px 8px rgba(52, 152, 219, 0.3); transition: all 0.2s ease;">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 4px;">
                        <path d="M15 9H5V5H15M12 19C10.34 19 9 17.66 9 16S10.34 13 12 13 15 14.34 15 16 13.66 19 12 19M17 3H5C3.89 3 3 3.89 3 5V19C3 20.11 3.89 21 5 21H19C20.11 21 21 20.11 21 19V7L17 3Z"/>
                    </svg>
                    Guardar
                </button>
            </div>
            <button id="load-btn" style="width: 100%; background: linear-gradient(145deg, #9b59b6, #8e44ad); color: white; border: none; padding: 10px; border-radius: 8px; cursor: pointer; font-size: 12px; font-weight: 600; box-shadow: 0 2px 8px rgba(155, 89, 182, 0.3); transition: all 0.2s ease;">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 4px;">
                    <path d="M14 2H6C4.89 2 4 2.89 4 4V20C4 21.11 4.89 22 6 22H18C19.11 22 20 21.11 20 20V8L14 2M18 20H6V4H13V9H18V20Z"/>
                </svg>
                Cargar Configuración
            </button>
        </div>
        
        <div style="margin-bottom: 15px;">
            <h4>Condiciones Climáticas</h4>
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px;">
                <button id="weather-clear" class="weather-btn active" style="display: flex; align-items: center; justify-content: center; padding: 12px; border-radius: 8px; font-weight: 600; transition: all 0.2s ease;">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 6px;">
                        <path d="M12 7C9.24 7 7 9.24 7 12S9.24 17 12 17 17 14.76 17 12 14.76 7 12 7M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z"/>
                    </svg>
                    Despejado
                </button>
                <button id="weather-rain" class="weather-btn" style="display: flex; align-items: center; justify-content: center; padding: 12px; border-radius: 8px; font-weight: 600; transition: all 0.2s ease;">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 6px;">
                        <path d="M6 14L8 14L8 16L6 16L6 14M10 14L12 14L12 16L10 16L10 14M14 14L16 14L16 16L14 16L14 14M18 14L20 14L20 16L18 16L18 14M6 18L8 18L8 20L6 20L6 18M10 18L12 18L12 20L10 20L10 18M14 18L16 18L16 20L14 20L14 18M18 18L20 18L20 20L18 20L18 18M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z"/>
                    </svg>
                    Lluvia
                </button>
                <button id="weather-snow" class="weather-btn" style="display: flex; align-items: center; justify-content: center; padding: 12px; border-radius: 8px; font-weight: 600; transition: all 0.2s ease;">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 6px;">
                        <path d="M6 14L8 14L8 16L6 16L6 14M10 14L12 14L12 16L10 16L10 14M14 14L16 14L16 16L14 16L14 14M18 14L20 14L20 16L18 16L18 14M6 18L8 18L8 20L6 20L6 18M10 18L12 18L12 20L10 20L10 18M14 18L16 18L16 20L14 18L14 20M18 18L20 18L20 20L18 20L18 18M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z"/>
                    </svg>
                    Nieve
                </button>
                <button id="weather-storm" class="weather-btn" style="display: flex; align-items: center; justify-content: center; padding: 12px; border-radius: 8px; font-weight: 600; transition: all 0.2s ease;">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 6px;">
                        <path d="M6 14L8 14L8 16L6 16L6 14M10 14L12 14L12 16L10 16L10 14M14 14L16 14L16 16L14 16L14 14M18 14L20 14L20 16L18 16L18 14M6 18L8 18L8 20L6 20L6 18M10 18L12 18L12 20L10 20L10 18M14 18L16 18L16 20L14 20L14 18M18 18L20 18L20 20L18 20L18 18M12 2L13.09 8.26L22 9L13.09 9.74L12 16L10.91 9.74L2 9L10.91 8.26L12 2Z"/>
                        <path d="M17 10L15 10L15 8L17 8L17 10M17 14L15 14L15 12L17 12L17 14Z"/>
                    </svg>
                    Tormenta
                </button>
            </div>
        </div>
    </div>
    
    <div id="tutorial-modal" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:white; padding:20px; border:2px solid black; border-radius:10px; max-width:400px; z-index:1000; box-shadow: 0 4px 8px rgba(0,0,0,0.3);">
        <h3 style="margin-top: 0; color: #333;">Tutorial: Principios de Sustentación</h3>
        <div style="max-height: 300px; overflow-y: auto; margin-bottom: 15px;">
            <p style="margin: 8px 0; line-height: 1.4;">1. <strong>Ángulo de ataque</strong>: Afecta la sustentación según Cl = 2π sin(α)</p>
            <p style="margin: 8px 0; line-height: 1.4;">2. <strong>Velocidad del viento</strong>: Influye en la presión dinámica</p>
            <p style="margin: 8px 0; line-height: 1.4;">3. <strong>Altitud</strong>: Cambia la densidad del aire</p>
            <p style="margin: 8px 0; line-height: 1.4;">4. <strong>Masa del avión</strong>: Determina el peso a equilibrar</p>
            <p style="margin: 8px 0; line-height: 1.4;">5. <strong>Stall</strong>: En ángulos >15°, la sustentación disminuye</p>
            <p style="margin: 8px 0; line-height: 1.4;">6. <strong>Modelos de avión</strong>: Cada uno tiene características diferentes</p>
            <p style="margin: 8px 0; line-height: 1.4;">7. <strong>Clima</strong>: Afecta las condiciones de vuelo</p>
        </div>
        <button id="close-tutorial" style="background: #4CAF50; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">Cerrar</button>
    </div>

    <script src="lift_interactive.js"></script>
</body>
</html>
